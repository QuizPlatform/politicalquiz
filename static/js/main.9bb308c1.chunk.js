(this.webpackJsonpquizplatform=this.webpackJsonpquizplatform||[]).push([[0],{69:function(e,t,a){e.exports=a(82)},74:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),o=a.n(i),l=(a(74),a(28)),s=a(29),c=a(32),d=a(31),u=a(18),m=a.n(u),p=(a(54),a(41)),h=a.n(p),g=a(115),f=a(119),y=a(125),b=a(126),E=a(61),v=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleAnswerChange=function(e){n.setState({currentAnswer:e.target.value})},n.handleAnswerSubmit=function(e){e.preventDefault();var t=n.state.currentAnswer;m.a.firestore().collection("admin").doc("adminControls069").get().then((function(e){var a={};a[e.data().round]=t,m.a.firestore().collection("registered").doc(n.props.secretId).set({answers:a},{merge:!0}).then((function(e){}))})).catch((function(e){alert("Update Failed")}))},n.state={round:"",currentAnswer:"",roundLoading:!0,err:null,oldAnswer:""},n.firebaseListener="",n.answerListener="",n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.firebaseListener=m.a.firestore().collection("admin").doc("adminControls069").onSnapshot((function(t){try{var a=t.data().round;e.setState({round:a,roundLoading:!1})}catch(n){e.setState({err:"No Healthy Internet Connection, Try to Reload the Page",roundLoading:!1})}}),(function(t){e.setState({err:"Something Went Wrong",roundLoading:!1})})),this.answerListener=m.a.firestore().collection("registered").doc(this.props.secretId).onSnapshot((function(t){var a=e.state.round,n=t.data().answers[a];e.setState({currentAnswer:n,oldAnswer:n})}),(function(t){e.setState({err:"Soemthing Went Wrong"})}))}},{key:"componentDidUpdate",value:function(e,t){this.state.round!==t.round&&(console.log("Round has been changed!"),this.setState({currentAnswer:"",oldAnswer:""}))}},{key:"componentWillUnmount",value:function(){try{this.firebaseListener()}catch(e){console.log("Ignore Error in predict")}try{this.answerListener()}catch(e){console.log("Ignore Error in predict")}}},{key:"render",value:function(){return this.state.roundLoading?r.a.createElement("div",{className:"loading-container"},r.a.createElement(h.a,{type:"cylon",style:{margin:"auto",maxWidth:"320px"}})):"0"===this.state.round?r.a.createElement("h2",{style:{textAlign:"center",marginTop:"32px"}},"Next Round is Going to be Started soon!"):r.a.createElement("div",{id:"answer-panel",style:{marginTop:"32px"},className:"jumbotron container"},r.a.createElement(g.a,{container:!0,spacing:2},r.a.createElement(g.a,{item:!0,xs:1,md:1}),r.a.createElement(g.a,{item:!0,xs:10,md:7},r.a.createElement(f.a,{id:"answer-container",elevation:3,style:{padding:"12px 12px 32px 12px",textAlign:"center"}},r.a.createElement("h2",{className:"text-center"},"Answer for "," "," ",this.state.round),r.a.createElement("form",{onSubmit:this.handleAnswerSubmit,className:"from"},r.a.createElement("div",{className:"form-group"},r.a.createElement(y.a,{style:{margin:"12px 8px 16px",width:"70%"},onChange:this.handleAnswerChange,value:this.state.currentAnswer,className:"form-control",multiline:!0,placeholder:"Enter your secret ID",variant:"outlined",label:"Write Answer",required:!0})),r.a.createElement("div",{style:{display:"flex",marginTop:"8px"}},r.a.createElement(b.a,{variant:"contained",size:"small",color:"primary",type:"submit",style:{margin:"auto",width:"70%"}},"Submit"))))),r.a.createElement(g.a,{item:!0,md:4},r.a.createElement("div",null,r.a.createElement(E.a,{style:{color:"#555555"}},"You can always change your answer until this Question is Open!"),r.a.createElement("p",null," Your current Answer is "),r.a.createElement("p",{style:{fontWeight:"800",whiteSpace:"pre-line"}},this.state.oldAnswer)))))}}]),a}(n.PureComponent),w=a(35),x=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={inputValue:""},n.handleFormSubmit=n.handleFormSubmit.bind(Object(w.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(w.a)(n)),n}return Object(s.a)(a,[{key:"handleFormSubmit",value:function(e){e.preventDefault(),"function"===typeof this.props.submitHandler&&this.props.submitHandler(this.state.inputValue.trim())}},{key:"handleInputChange",value:function(e){var t=e.target.value;/[!@#$%^&*()_+\-=\]{};':"\\|,.<>/?]+/.test(t)?alert("No special characters are allowed!"):this.setState({inputValue:t})}},{key:"render",value:function(){return r.a.createElement(g.a,{container:!0,spacing:2},r.a.createElement(g.a,{item:!0,xs:2,md:4}),r.a.createElement(g.a,{item:!0,xs:8,md:4},r.a.createElement(f.a,{elevation:3,style:{padding:"12px 12px 32px 12px",textAlign:"center"}},r.a.createElement("h1",null,"Login To Portal"),r.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"from"},r.a.createElement("div",{className:"form-group"},r.a.createElement(y.a,{style:{margin:"12px 8px"},value:this.state.inputValue,onChange:this.handleInputChange,className:"form-control",placeholder:"Enter your secret ID",required:!0})),r.a.createElement("div",{style:{display:"flex",marginTop:"8px"}},r.a.createElement(b.a,{variant:"contained",size:"small",color:"secondary",type:"submit",style:{margin:"auto"}},"Submit"))))),r.a.createElement(g.a,{item:!0,xs:2,md:4}))}}]),a}(r.a.Component),S=a(120),A=a(128),C=a(121),I=a(122),k=a(123),L=a(124),O=(a(81),r.a.forwardRef((function(e,t){return r.a.createElement(S.a,Object.assign({direction:"down",ref:t},e))}))),j=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).loginSubmitHandler=function(e){n.setState({loginLoading:!0}),m.a.firestore().collection("registered").doc(e).get().then((function(t){t.exists?n.setState({secretId:e}):n.setState({failDialog:!0,failMsg:"Login Failed"})})).catch((function(e){n.setState({failDialog:!0,failMsg:"Something went Wrong!"})})).finally((function(){n.setState({loginLoading:!1})}))},n.handleClickOpen=function(){n.setState({failDialog:!0})},n.handleClose=function(){n.setState({failDialog:!1})},n.state={secretId:"",loginLoading:!1,err:null,failDialog:!1,failMsg:"Login Failed!"},n}return Object(s.a)(a,[{key:"render",value:function(){var e=(g.a,g.a,g.a,r.a.createElement(A.a,{open:this.state.failDialog,TransitionComponent:O,keepMounted:!0,onClose:this.handleClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(C.a,{id:"alert-dialog-slide-title"},this.state.failMsg),r.a.createElement(I.a,null,r.a.createElement(k.a,{id:"alert-dialog-slide-description"},"Check your secret Id and try again!")),r.a.createElement(L.a,null,r.a.createElement(b.a,{autoFocus:!0,onClick:this.handleClose,color:"primary"},"Okay"))));if(this.state.loginLoading)return r.a.createElement("div",{className:"loading-container"},r.a.createElement(h.a,{type:"cylon",style:{margin:"auto",maxWidth:"320px"}}));var t=this.state.secretId;return t?r.a.createElement("div",{id:"main",key:0},r.a.createElement(v,{secretId:t}),e):r.a.createElement("div",{id:"main",key:0},r.a.createElement("div",{id:"main-login-container",style:{marginTop:"48px"}},r.a.createElement(x,{submitHandler:this.loginSubmitHandler})),e)}}]),a}(n.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(83);m.a.initializeApp({apiKey:"AIzaSyB1mz728tc9dqKGLUiPOAwxBxg20Gx4mSE",authDomain:"quizpriyam.firebaseapp.com",databaseURL:"https://quizpriyam.firebaseio.com",projectId:"quizpriyam",storageBucket:"quizpriyam.appspot.com",messagingSenderId:"968131692426",appId:"1:968131692426:web:467ddbadc7ef1ac1d4ea73",measurementId:"G-WQTBNGZXQS"}),m.a.analytics(),o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[69,1,2]]]);
//# sourceMappingURL=main.9bb308c1.chunk.js.map