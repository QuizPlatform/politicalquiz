(this.webpackJsonpquizplatform=this.webpackJsonpquizplatform||[]).push([[0],{18:function(e,t,n){e.exports=n(27)},23:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(16),i=n.n(o),s=(n(23),n(6)),c=n(7),l=n(9),u=n(8),d=n(3),m=n.n(d),h=(n(15),n(10)),p=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={inputValue:""},a.handleFormSubmit=a.handleFormSubmit.bind(Object(h.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(h.a)(a)),a}return Object(c.a)(n,[{key:"handleFormSubmit",value:function(e){e.preventDefault(),"function"===typeof this.props.submitHandler&&this.props.submitHandler(this.state.inputValue.trim())}},{key:"handleInputChange",value:function(e){var t=e.target.value;/[!@#$%^&*()_+\-=\]{};':"\\|,.<>/?]+/.test(t)?alert("No special characters are allowed!"):this.setState({inputValue:t})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"from"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{value:this.state.inputValue,onChange:this.handleInputChange,className:"form-control",placeholder:"Enter your secret ID",required:!0})),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("button",{className:"btn btn-info btn-lg",style:{margin:"auto"},type:"submit"},"Submit")))))}}]),n}(r.a.Component),g=n(12),f=n.n(g),b=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleAnswerChange=function(e){a.setState({currentAnswer:e.target.value})},a.handleAnswerSubmit=function(e){e.preventDefault();var t=a.state.currentAnswer;m.a.firestore().collection("admin").doc("adminControls069").get().then((function(e){var n={};n[e.data().round]=t,m.a.firestore().collection("registered").doc(a.props.secretId).set({answers:n},{merge:!0}).then((function(e){}))})).catch((function(e){alert("Update Failed")}))},a.state={round:"",currentAnswer:"",roundLoading:!0,err:null,oldAnswer:""},a.firebaseListener="",a.answerListener="",a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.firebaseListener=m.a.firestore().collection("admin").doc("adminControls069").onSnapshot((function(t){try{var n=t.data().round;e.setState({round:n,roundLoading:!1})}catch(a){e.setState({err:"No Healthy Internet Connection, Try to Reload the Page",roundLoading:!1})}}),(function(t){e.setState({err:"Something Went Wrong",roundLoading:!1})})),this.answerListener=m.a.firestore().collection("registered").doc(this.props.secretId).onSnapshot((function(t){var n=e.state.round,a=t.data().answers[n];e.setState({currentAnswer:a,oldAnswer:a})}),(function(t){e.setState({err:"Soemthing Went Wrong"})}))}},{key:"componentDidUpdate",value:function(e,t){this.state.round!==t.round&&(console.log("Round has been changed!"),this.setState({currentAnswer:"",oldAnswer:""}))}},{key:"componentWillUnmount",value:function(){try{this.firebaseListener()}catch(e){console.log("Ignore Error in predict")}try{this.answerListener()}catch(e){console.log("Ignore Error in predict")}}},{key:"render",value:function(){return this.state.roundLoading?r.a.createElement("div",{className:"loading-container"},r.a.createElement(f.a,{type:"cylon",style:{margin:"auto",maxWidth:"320px"}})):"0"===this.state.round?r.a.createElement("h2",null,"Next Round is Going to be Started soon!"):r.a.createElement("div",{id:"answer-panel",style:{marginTop:"32px"},className:"jumbotron container"},r.a.createElement("form",{className:"form",onSubmit:this.handleAnswerSubmit},r.a.createElement("h2",{className:"text-center"},"Answer for "," "," ",this.state.round),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{id:"answer-text-area",className:"form-control",onChange:this.handleAnswerChange,value:this.state.currentAnswer,placeholder:"Enter Your Answer Here"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-success",style:{width:"100%"}},"Submit"))),r.a.createElement("div",null,r.a.createElement("h3",null," Your current Answer is "),r.a.createElement("p",null,this.state.oldAnswer),r.a.createElement("p",null,"You can always change your answer until this Question is Open!")))}}]),n}(a.PureComponent),v=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).loginSubmitHandler=function(e){a.setState({loginLoading:!0}),m.a.firestore().collection("registered").doc(e).get().then((function(t){t.exists?a.setState({secretId:e}):alert("Incorrect Password")})).catch((function(e){alert("Something Went Wrong")})).finally((function(){a.setState({loginLoading:!1})}))},a.state={secretId:"",loginLoading:!1,err:null},a}return Object(c.a)(n,[{key:"render",value:function(){if(this.state.loginLoading)return r.a.createElement("div",{className:"loading-container"},r.a.createElement(f.a,{type:"cylon",style:{margin:"auto",maxWidth:"320px"}}));var e=this.state.secretId;return e?r.a.createElement("div",{id:"main",key:0},r.a.createElement(b,{secretId:e})):r.a.createElement("div",{id:"main",key:0},r.a.createElement("div",{id:"main-login-container",style:{marginTop:"48px"}},r.a.createElement(p,{submitHandler:this.loginSubmitHandler})))}}]),n}(a.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(28);m.a.initializeApp({apiKey:"AIzaSyB1mz728tc9dqKGLUiPOAwxBxg20Gx4mSE",authDomain:"quizpriyam.firebaseapp.com",databaseURL:"https://quizpriyam.firebaseio.com",projectId:"quizpriyam",storageBucket:"quizpriyam.appspot.com",messagingSenderId:"968131692426",appId:"1:968131692426:web:467ddbadc7ef1ac1d4ea73",measurementId:"G-WQTBNGZXQS"}),m.a.analytics(),i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.1c442680.chunk.js.map